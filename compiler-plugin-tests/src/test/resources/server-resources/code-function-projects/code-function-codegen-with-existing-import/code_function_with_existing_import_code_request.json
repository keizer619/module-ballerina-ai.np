{
  "usecase": "An `external` function with the `@natural:code` Ballerina annotation needs to be replaced at\ncompile-time with the code necessary to achieve the requirement specified as the `prompt`\nfield in the annotation.\n\nAs a skilled Ballerina programmer, you have to generate the code to do this for the analyzeEmployees function.\nThe following prompt defines the requirement:\n\n```\nFor each employee that belongs to the specified department\n                            and has a salary greater than the given threshold print Employee info in the following format.\n                            Employee ID: <Employee ID>, Name: <Employee Name>, Salary: <Employee Salary>\n```\n\nYour task is to generate a function named 'analyzeEmployeesNPGenerated' with the code that is needed to satisfy this user\nprompt.\n\nThe 'analyzeEmployeesNPGenerated' function should have exactly the same signature as the 'analyzeEmployees' function.\nUse only the parameters passed to the function and module-level clients that are clients from the ballerina and ballerinax module in the generated code.\nDo not use any configurable variables or module-level variables defined in the program.\n\nThe generated source code will be added in a separate file. Therefore, even if a module\nrequired is already imported in the file with the original function, you MUST include any\nimport declarations required by the generated functions as import declarations in the code\nsnippet.\n\nRespond with ONLY THE GENERATED FUNCTION AND ANY IMPORTS REQUIRED BY THE GENERATED FUNCTION.\n",
  "sourceFiles": [
    {
      "filePath": "main.bal",
      "content": "import ballerina/io;\n\ntype Employee record {|\n    int id;\n    string name;\n    string department;\n    decimal salary;\n|};\n\nfunction analyzeEmployees(Employee[] employees, string department, decimal salary) =\n    @natural:code {\n        prompt: string `For each employee that belongs to the specified department\n                            and has a salary greater than the given threshold print Employee info in the following format.\n                            Employee ID: <Employee ID>, Name: <Employee Name>, Salary: <Employee Salary>`\n    } external;\n\npublic function main() {\n    Employee[] employees = [\n        {id: 1, name: \"Alice\", department: \"Engineering\", salary: 60000.0},\n        {id: 2, name: \"Bob\", department: \"HR\", salary: 45000.0},\n        {id: 3, name: \"Charlie\", department: \"Engineering\", salary: 70000.0},\n        {id: 4, name: \"David\", department: \"Marketing\", salary: 52000.0},\n        {id: 5, name: \"Eve\", department: \"Engineering\", salary: 48000.0}\n    ];\n\n    string department = \"Engineering\";\n    decimal salaryThreshold = 50000.0;\n    io:println(\"Analyzing employees in department: \", department, \" with salary greater than \", salaryThreshold);\n    analyzeEmployees(employees, department, salaryThreshold);\n}\n"
    }
  ]
}
